{"ast":null,"code":"import _objectSpread from \"/Users/yogeshwaranramesh/College/Event-Management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\n/* eslint-disable no-undef */\nimport axios from 'axios';\nconst API = axios.create({\n  baseURL: `${config.baseURL}`\n});\nAPI.interceptors.request.use(config => {\n  // document.getElementById('root-loader').classList.add('visible');\n  const token = localStorage.getItem('token');\n  config.headers.token = token ? `${token}` : '';\n  return config;\n});\nAPI.interceptors.response.use(response => {\n  // document.getElementById('root-loader').classList.remove('visible');\n  const _response$data = response.data,\n        code = _response$data.code,\n        msg = _response$data.msg;\n\n  if (code === 200) {\n    return response;\n  } else {\n    throw _objectSpread({}, response, {\n      msg\n    }); // throw (`${msg}`);\n  }\n}, error => {\n  // document.getElementById('root-loader').classList.remove('visible');\n  console.log('API', error);\n  throw Error(error);\n});\nexport default API;","map":{"version":3,"sources":["/Users/yogeshwaranramesh/College/Event-Management/client/src/middleware/api.jsx"],"names":["axios","API","create","baseURL","config","interceptors","request","use","token","localStorage","getItem","headers","response","data","code","msg","error","console","log","Error"],"mappings":";;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAa;AACxBC,EAAAA,OAAO,EAAG,GAAEC,MAAM,CAACD,OAAQ;AADH,CAAb,CAAZ;AAIAF,GAAG,CAACI,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CAA8BH,MAAD,IAAY;AACxC;AACA,QAAMI,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAN,EAAAA,MAAM,CAACO,OAAP,CAAeH,KAAf,GAAuBA,KAAK,GAAI,GAAEA,KAAM,EAAZ,GAAgB,EAA5C;AACA,SAAOJ,MAAP;AACA,CALD;AAOAH,GAAG,CAACI,YAAJ,CAAiBO,QAAjB,CAA0BL,GAA1B,CACEK,QAAD,IAAc;AACb;AADa,yBAGSA,QAAQ,CAACC,IAHlB;AAAA,QAGLC,IAHK,kBAGLA,IAHK;AAAA,QAGCC,GAHD,kBAGCA,GAHD;;AAIb,MAAID,IAAI,KAAK,GAAb,EAAkB;AACjB,WAAOF,QAAP;AACA,GAFD,MAEO;AACN,4BAAWA,QAAX;AAAqBG,MAAAA;AAArB,OADM,CAGN;AACA;AACD,CAZF,EAaEC,KAAD,IAAW;AACV;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBF,KAAnB;AACA,QAAMG,KAAK,CAACH,KAAD,CAAX;AACA,CAlBF;AAqBA,eAAef,GAAf","sourcesContent":["/* eslint-disable no-undef */\nimport axios from 'axios';\n\nconst API = axios.create({\n\tbaseURL: `${config.baseURL}`\n});\n\nAPI.interceptors.request.use((config) => {\n\t// document.getElementById('root-loader').classList.add('visible');\n\tconst token = localStorage.getItem('token');\n\tconfig.headers.token = token ? `${token}` : '';\n\treturn config;\n});\n\nAPI.interceptors.response.use(\n\t(response) => {\n\t\t// document.getElementById('root-loader').classList.remove('visible');\n\n\t\tconst { code, msg } = response.data;\n\t\tif (code === 200) {\n\t\t\treturn response;\n\t\t} else {\n\t\t\tthrow { ...response, msg };\n\n\t\t\t// throw (`${msg}`);\n\t\t}\n\t},\n\t(error) => {\n\t\t// document.getElementById('root-loader').classList.remove('visible');\n\n\t\tconsole.log('API', error);\n\t\tthrow Error(error);\n\t}\n);\n\nexport default API;\n"]},"metadata":{},"sourceType":"module"}