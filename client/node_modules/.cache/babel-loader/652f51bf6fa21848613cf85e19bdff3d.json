{"ast":null,"code":"var _jsxFileName = \"/Users/yogeshwaranramesh/College/Event-Management/client/src/components/Navbar/Navbar.jsx\";\nimport React, { Component, Fragment } from \"react\";\nimport 'antd/dist/antd.css';\nimport { Menu, Icon, Avatar } from 'antd';\nimport \"../Navbar/Navbar.css\";\nimport { Redirect } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nconst SubMenu = Menu.SubMenu; // import { WrappedLogin } from '../Login/Login'\n\nexport default class Navbar extends Component {\n  constructor() {\n    super();\n\n    this.logOut = () => {\n      localStorage.removeItem(\"mytime\");\n    };\n\n    this.handleClick = e => {\n      console.log('click ', e);\n      this.setState({\n        current: e.key\n      }, () => {\n        console.log(this.state);\n      });\n    };\n\n    this.state = {\n      current: 'mail',\n      isLogged: false\n    };\n  }\n\n  componentWillMount() {\n    let isLogged = localStorage.getItem('user_id');\n\n    if (isLogged) {\n      API.post('/users/signin', {\n        user_id: isLogged\n      }).then(response => {\n        userDetails = response.data.response;\n        this.setState({\n          isLogged: true,\n          userDetails\n        }, () => {\n          console.log(this.state);\n        });\n      });\n    }\n  }\n\n  conditionalRender() {\n    const _this$state = this.state,\n          isLogged = _this$state.isLogged,\n          userDetails = _this$state.userDetails;\n\n    if (!isLogged) {\n      return [React.createElement(Menu.Item, {\n        key: \"signin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/signin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \" \", React.createElement(Icon, {\n        type: \"mail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), \"Sign up\")), React.createElement(Menu.Item, {\n        key: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"   \", React.createElement(Icon, {\n        type: \"appstore\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), \"Log in\"))];\n    } else {\n      return React.createElement(SubMenu, {\n        title: React.createElement(Avatar, {\n          src: userDetails.img,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Menu.ItemGroup, {\n        title: userDetails.user_name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Menu.Item, {\n        key: \"settings\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Settings\")), React.createElement(Menu.Item, {\n        key: \"logout\",\n        onClick: this.logOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Logout\"));\n    }\n  } // selectedKeys={[this.state.current]} \n\n\n  render() {\n    return React.createElement(Menu, {\n      onClick: this.handleClick,\n      mode: \"horizontal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, this.conditionalRender());\n  }\n\n}","map":{"version":3,"sources":["/Users/yogeshwaranramesh/College/Event-Management/client/src/components/Navbar/Navbar.jsx"],"names":["React","Component","Fragment","Menu","Icon","Avatar","Redirect","Link","SubMenu","Navbar","constructor","logOut","localStorage","removeItem","handleClick","e","console","log","setState","current","key","state","isLogged","componentWillMount","getItem","API","post","user_id","then","response","userDetails","data","conditionalRender","img","user_name","render"],"mappings":"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","sourcesContent":["\nimport React, { Component, Fragment } from \"react\";\nimport 'antd/dist/antd.css';\nimport { Menu, Icon, Avatar } from 'antd';\nimport \"../Navbar/Navbar.css\"\nimport { Redirect } from \"react-router-dom\";\nimport {\n  Link\n} from \"react-router-dom\";\n\nconst { SubMenu } = Menu;\n// import { WrappedLogin } from '../Login/Login'\nexport default class Navbar extends Component {\n  constructor() {\n    super();\n    this.state = {\n      current: 'mail',\n      isLogged: false\n    };\n  }\n  componentWillMount() {\n    let isLogged = localStorage.getItem('user_id')\n    if (isLogged) {\n      \n       API.post('/users/signin',{user_id:isLogged}).then(\n        response=>\n        {\n          userDetails=response.data.response\n          this.setState({ isLogged: true ,userDetails},()=>{console.log(this.state)})\n        }\n      )\n      \n    }\n  }\n  logOut=()=>\n  {\n    localStorage.removeItem(\"mytime\");\n\n  }\n  handleClick = e => {\n    console.log('click ', e);\n    this.setState({\n      current: e.key,\n    }, () => {\n      console.log(this.state)\n    });\n  };\n  conditionalRender() {\n    const { isLogged,userDetails } = this.state\n    if (!isLogged) {\n      return (\n        [\n        <Menu.Item key=\"signin\">\n          <Link to=\"/signin\"> <Icon type=\"mail\" />Sign up</Link>\n        </Menu.Item>,\n        <Menu.Item key=\"login\" >\n\n          <Link to=\"/login\">   <Icon type=\"appstore\" />Log in</Link>\n        </Menu.Item>\n        ]\n      )\n    }\n    else {\n      return(\n        <SubMenu\n          title={\n            <Avatar src={userDetails.img} />\n          }\n        >\n          <Menu.ItemGroup title={userDetails.user_name}>\n            <Menu.Item key=\"settings\">Settings</Menu.Item>\n            {/* <Menu.Item key=\"setting:2\">Option 2</Menu.Item> */}\n          </Menu.ItemGroup>\n          {/* <Menu.ItemGroup title=\"Item 2\"> */}\n          <Menu.Item key=\"logout\" onClick={this.logOut}>Logout</Menu.Item>\n          {/* <Menu.Item key=\"setting:4\">Option 4</Menu.Item> */}\n          {/* </Menu.ItemGroup> */}\n        </SubMenu>\n      )\n    }\n  }\n  // selectedKeys={[this.state.current]} \n  render() {\n   \n    return (\n      <Menu onClick={this.handleClick} mode=\"horizontal\">\n        {this.conditionalRender()}\n\n      </Menu>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}