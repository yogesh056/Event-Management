{"ast":null,"code":"var _jsxFileName = \"/Users/yogeshwaranramesh/College/Event-Management/client/src/components/Navbar/Navbar.jsx\";\nimport React, { Component, Fragment } from \"react\";\nimport 'antd/dist/antd.css';\nimport { Menu, Icon, Avatar } from 'antd';\nimport \"../Navbar/Navbar.css\";\nimport { Redirect, withRouter } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport API from '../../middleware/api';\nconst SubMenu = Menu.SubMenu; // import { WrappedLogin } from '../Login/Login'\n\nclass Navbar extends Component {\n  constructor() {\n    super();\n\n    this.getUserDetails = async isLogged => {\n      let response = await API.post('/users/user', {\n        user_id: isLogged\n      });\n      let userDetails = response.data.response;\n      console.log(userDetails, response);\n      this.setState({\n        isLogged: true,\n        userDetails\n      }, () => {\n        console.log(\"123\", this.state);\n      });\n    };\n\n    this.logOut = () => {\n      localStorage.removeItem(\"user_id\");\n      this.props.history.push('/login');\n    };\n\n    this.handleClick = e => {\n      console.log('click ', e);\n      this.setState({\n        current: e.key\n      }, () => {\n        console.log(this.state);\n      });\n    };\n\n    this.state = {\n      current: 'mail',\n      isLogged: false\n    };\n  }\n\n  componentWillMount() {\n    console.log(\"hjello\");\n    let isLogged = localStorage.getItem('user_id');\n    console.log(isLogged);\n\n    if (isLogged) {\n      this.getUserDetails(isLogged);\n    }\n  }\n\n  conditionalRender() {\n    const _this$state = this.state,\n          userDetails = _this$state.userDetails,\n          isLogged = _this$state.isLogged;\n    if (isLogged) return React.createElement(SubMenu, {\n      title: React.createElement(Avatar, {\n        src: userDetails.image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Menu.ItemGroup, {\n      title: userDetails.user_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Menu.Item, {\n      key: \"settings\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Settings\")), React.createElement(Menu.Item, {\n      key: \"logout\",\n      onClick: this.logOut,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Logout\"));\n  } // selectedKeys={[this.state.current]} \n\n\n  render() {\n    return React.createElement(Menu, {\n      onClick: this.handleClick,\n      mode: \"horizontal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, this.conditionalRender());\n  }\n\n}\n\nexport default withRouter(Na);","map":{"version":3,"sources":["/Users/yogeshwaranramesh/College/Event-Management/client/src/components/Navbar/Navbar.jsx"],"names":["React","Component","Fragment","Menu","Icon","Avatar","Redirect","withRouter","Link","API","SubMenu","Navbar","constructor","getUserDetails","isLogged","response","post","user_id","userDetails","data","console","log","setState","state","logOut","localStorage","removeItem","props","history","push","handleClick","e","current","key","componentWillMount","getItem","conditionalRender","image","user_name","render","Na"],"mappings":"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","sourcesContent":["\nimport React, { Component, Fragment } from \"react\";\nimport 'antd/dist/antd.css';\nimport { Menu, Icon, Avatar } from 'antd';\nimport \"../Navbar/Navbar.css\"\nimport { Redirect, withRouter } from \"react-router-dom\";\nimport {\n  Link\n} from \"react-router-dom\";\nimport API from '../../middleware/api';\n\nconst { SubMenu } = Menu;\n// import { WrappedLogin } from '../Login/Login'\n class Navbar extends Component {\n  constructor() {\n    super();\n    this.state = {\n      current: 'mail',\n      isLogged: false\n    };\n  }\n  componentWillMount() {\n    console.log(\"hjello\")\n    let isLogged = localStorage.getItem('user_id')\n    console.log(isLogged)\n    if (isLogged) {\n      this.getUserDetails(isLogged)\n    }\n  }\n  getUserDetails=async(isLogged)=>\n  {\n   let response= await API.post('/users/user',{user_id:isLogged})\n        let userDetails=response.data.response\n        console.log(userDetails,response)\n        this.setState({ isLogged: true ,userDetails},()=>{console.log(\"123\",this.state)})\n  }\n  logOut=()=>\n  {\n    localStorage.removeItem(\"user_id\");\n    this.props.history.push('/login')\n\n  }\n  handleClick = e => {\n    console.log('click ', e);\n    this.setState({\n      current: e.key,\n    }, () => {\n      console.log(this.state)\n    });\n  };\n  conditionalRender() {\n    const {userDetails ,isLogged} = this.state\n    if(isLogged)\n      return(\n        <SubMenu\n          title={\n            <Avatar src={userDetails.image} />\n          }\n        >\n          <Menu.ItemGroup title={userDetails.user_name}>\n            <Menu.Item key=\"settings\">Settings</Menu.Item>\n            {/* <Menu.Item key=\"setting:2\">Option 2</Menu.Item> */}\n          </Menu.ItemGroup>\n          {/* <Menu.ItemGroup title=\"Item 2\"> */}\n          <Menu.Item key=\"logout\" onClick={this.logOut}>Logout</Menu.Item>\n          {/* <Menu.Item key=\"setting:4\">Option 4</Menu.Item> */}\n          {/* </Menu.ItemGroup> */}\n        </SubMenu>\n      )\n  }\n  // selectedKeys={[this.state.current]} \n  render() {\n   \n    return (\n      <Menu onClick={this.handleClick} mode=\"horizontal\">\n        {this.conditionalRender()}\n\n      </Menu>\n    )\n  }\n}\nexport default withRouter(Na)"]},"metadata":{},"sourceType":"module"}